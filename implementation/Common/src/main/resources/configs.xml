<?xml version="1.0" encoding="UTF-8" ?>
<configs>
    <Meta>
        <MetaFilePath>../deps/meta/meta.zip</MetaFilePath>
        <BtsMedMetaFilePath>../conf/meta.zip</BtsMedMetaFilePath>
        <BtsMedPdMetaFilePath>../conf/meta_btsmed_nidd.xml</BtsMedPdMetaFilePath>
        <MetaVersion>ET_Test_Version</MetaVersion>
    </Meta>
    <LocalAgent>
        <ConfigFilePath>../conf/btsmedConfig.xml</ConfigFilePath>
        <ClusterInfoConfigPath>../conf/clusterInfoConfig.xml</ClusterInfoConfigPath>
        <ConfigScriptPath>../bin/configNetwork.sh</ConfigScriptPath>
        <BtsMedAccConfPath>../bin/BTSMEDAccConf.sh</BtsMedAccConfPath>
        <StartupScriptPath>../bin/imp-startup.sh</StartupScriptPath>
        <ActivationScriptPath>../bin/imp-upgrade.sh</ActivationScriptPath>
        <BtsMedDownloadDirectory>../run/btsmedDownload</BtsMedDownloadDirectory>
        <ExportFilePath>../exportconf</ExportFilePath>
        <RuleFilesPath>conf/migrationRules</RuleFilesPath>
        <FirewallUpdateScriptPath>../bin/update-firewall.py</FirewallUpdateScriptPath>
        <GetUserFailureTimesScriptPath>../bin/imp-get-user-failure-times.sh</GetUserFailureTimesScriptPath>
        <GetUserUidScriptPath>../bin/imp-get-user-uid.sh</GetUserUidScriptPath>
        <ActivationResult>../log/upgrade-success</ActivationResult>
    </LocalAgent>
    <NtpMonitor>
        <initalDelayInSecond>1</initalDelayInSecond>
        <periodInSecond>1</periodInSecond>
        <scriptPath>../bin/ntpStatus.sh</scriptPath>
    </NtpMonitor>
    <Storage>
        <NeSchedule>../storage/NeSchedule.txt</NeSchedule>
    </Storage>
    <CmHandler>
        <ScfDirectory>../run/SCF</ScfDirectory>
        <PlanDirectory>../run/Plan</PlanDirectory>
        <EnablePdl>0</EnablePdl>
        <PdlPath>../deps/ScfValidator/ScfValidator</PdlPath>
        <TempDirectory>../run/Temp</TempDirectory>
    </CmHandler>
    <SwmHandler>
        <PluginsDirectory>../plugins</PluginsDirectory>
    </SwmHandler>
    <HouseKeeper>
        <MajorityRate>95.0</MajorityRate>
        <Alarm8504PhaseOneTimeOutInSeconds>900</Alarm8504PhaseOneTimeOutInSeconds>
        <Alarm8504PhaseTwoTimeOutInSeconds>900</Alarm8504PhaseTwoTimeOutInSeconds>
        <Alarm8503TimeOutInSeconds>30</Alarm8503TimeOutInSeconds>
    </HouseKeeper>
    <PluginAutoDelete>
        <diskSpacePath>/</diskSpacePath>
        <thresholdInMb>100</thresholdInMb>
        <maxUnusedDurationInSeconds>2592000</maxUnusedDurationInSeconds>
        <clearUpPeriodInSeconds>3600</clearUpPeriodInSeconds>
    </PluginAutoDelete>
    <SystemResource>
        <detectionPeriod>30</detectionPeriod>
        <cpuUsageThreshold>80</cpuUsageThreshold>
        <diskUsageThreshold>80</diskUsageThreshold>
        <memoryUsageThreshold>80</memoryUsageThreshold>
        <diskMonitorPath>/</diskMonitorPath>
    </SystemResource>
    <Tracing>
        <traceMediatorPort>49392</traceMediatorPort>
        <traceConnectionTimeOutInSeconds>300</traceConnectionTimeOutInSeconds>
        <traceAggregationTimeoutInSeconds>1</traceAggregationTimeoutInSeconds>
        <traceAlarmCancelTimeoutInSeconds>900</traceAlarmCancelTimeoutInSeconds>
    </Tracing>
    <Security>
        <TlsModeNorth>Forced</TlsModeNorth>
        <KeyStorePassword>nokia123</KeyStorePassword>
        <KeyStorePath>../conf/keystore/keystore.jks</KeyStorePath>
        <CrlFilePath>../conf/keystore/</CrlFilePath>
        <CrlFileSuffix>crl</CrlFileSuffix>
        <MaxCertificateSizeInByte>1048576</MaxCertificateSizeInByte>
        <MaxTotalCrlSizeInByte>1048576</MaxTotalCrlSizeInByte>
        <need>true</need>
    </Security>
    <Mediator>
        <SouthBoundIpAddress>0.0.0.0</SouthBoundIpAddress>
    </Mediator>
    <Ne3sAdapter>
        <mode>ne3s</mode>
        <getDeploymentCfg>../conf/deploy.xml</getDeploymentCfg>
        <TlsServerPort>8443</TlsServerPort>
        <NorthBoundIpAddress>127.0.0.1</NorthBoundIpAddress>
        <IsUseSimpleRegistration>false</IsUseSimpleRegistration>
        <MaxNotificationRetryIntervalSec>300</MaxNotificationRetryIntervalSec>
        <NotificationTimeOutSec>30</NotificationTimeOutSec>
        <NotificationQueueSize>1000</NotificationQueueSize>
        <NotificationRetryMaxRandomScope>30</NotificationRetryMaxRandomScope>
        <ClientConnectionTimeout>40</ClientConnectionTimeout>
        <ClientReceiveTimeout>40</ClientReceiveTimeout>
        <SessionTimeout>15</SessionTimeout>
        <OpertionStatusRetryInterval>3</OpertionStatusRetryInterval>
        <OpertionStatusRetryTimeout>300</OpertionStatusRetryTimeout>
        <RegistrationNotificationRetryTimes>3</RegistrationNotificationRetryTimes>
        <RegistrationNotificationTimeoutSec>10</RegistrationNotificationTimeoutSec>
    </Ne3sAdapter>
    <Redis>
        <Host>localhost</Host>
        <Port>6379</Port>
        <Password>nokia_btsmed_20170327</Password>
    </Redis>
    <Common>
        <Recovery>
            <RestartCause>../../log/restartCause.log</RestartCause>
        </Recovery>
    </Common>
    <Version>
        <BtsmedVersion>${rpmVersion}</BtsmedVersion>
    </Version>
    <Hcache>
        <Recovery>
            <Persistence>
                <BtsmedDir>../../data/hcache/btsmed</BtsmedDir>
                <BtsesDir>../../data/hcache/btses</BtsesDir>
            </Persistence>
        </Recovery>
    </Hcache>
    <Resiliency>
        <ClusterInfoSendTimer>
            <!--the sendTimer of ImpCore send GroupDaemon ClusterInfoMessage set delay MILLISECONDS-->
            <DelayTime>3000</DelayTime>
            <!--the sendTimer of ImpCore send GroupDaemon ClusterInfoMessage set peroid MILLISECONDS-->
            <PeriodTime>30000</PeriodTime>
        </ClusterInfoSendTimer>
        <FileSync>
            <ScriptPath>../bin/moveConfigFile.sh</ScriptPath>
            <SyncFolder>../filesync</SyncFolder>
            <ConfFolder>../conf</ConfFolder>
            <SyncList>
                <File id="btsmedconfig.xml">/btsmedconfig.xml</File>
                <File id="log4j2.xml">/log4j2.xml</File>
                <File id="keystore">/keystore</File>
            </SyncList>
        </FileSync>
    </Resiliency>
    <Atl>
        <OneDayTimerIntervalInSeconds>86400</OneDayTimerIntervalInSeconds>
        <OneHourTimerIntervalInSeconds>3600</OneHourTimerIntervalInSeconds>
        <BtsMedUploadThresholdInByte>2097152</BtsMedUploadThresholdInByte>
        <BtsUploadThresholdInByte>71680</BtsUploadThresholdInByte>
        <!-- 4*1024*1024 = 4M -->
        <HcacheThresholdInByte>4194304</HcacheThresholdInByte>
    </Atl>
</configs>
